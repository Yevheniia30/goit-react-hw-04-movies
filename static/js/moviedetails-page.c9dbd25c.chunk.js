(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{115:function(e,t,a){"use strict";a.r(t);var n=a(63),c=a(65),i=a(55),r=a(56),s=a(59),o=a(58),u=a(0),l=a(11),h=a(3),d=a(57),v=a(94),j=a.n(v),f=a.p+"static/media/default.2cff1f5d.jpg",p=a(2),b=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.cast;return Object(p.jsx)("div",{children:Object(p.jsx)("ul",{className:j.a.cast_list,children:e.map((function(e){var t=e.id,a=e.name,n=e.profile_path,c=e.character;return Object(p.jsxs)("li",{children:[Object(p.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w200/".concat(n):f,alt:a,width:"200px"}),Object(p.jsx)("p",{className:j.a.cast_name,children:a}),Object(p.jsxs)("p",{children:["Character: ",c]})]},t)}))})})}}]),a}(u.Component),m=a(95),_=a.n(m),O=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.reviews;return Object(p.jsx)("div",{children:e.length>0?Object(p.jsx)("ul",{children:e.map((function(e){var t=e.id,a=e.author,n=e.content;return Object(p.jsxs)("li",{children:[Object(p.jsxs)("p",{className:_.a.rew_author,children:["Author: ",a]}),Object(p.jsx)("p",{children:n})]},t)}))}):Object(p.jsx)("p",{children:"We don't have any reviews for this movie"})})}}]),a}(u.Component),g=a(96),x=a.n(g),w=a.p+"static/media/default-poster.7c02dcee.png",y=a(10),k=a(97),S=a.n(k),M=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={id:"",poster_path:"",original_title:"",overview:"",genres:[],vote_average:"",cast:[],reviews:[],isLoading:!1,error:null},e.handleGoBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||y.a.home)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;this.setState({isLoading:!0}),d.a.fetchMovieDetals({movieId:t}).then((function(t){e.setState(Object(c.a)({},t))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})})),d.a.fetchGenres().then((function(e){return e})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})})),d.a.fetchReviews({movieId:t}).then((function(t){e.setState({reviews:Object(n.a)(t)})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})})),d.a.fetchCast({movieId:t}).then((function(t){var a=t.cast;e.setState({cast:Object(n.a)(a)})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.poster_path,a=e.original_title,n=e.overview,i=e.genres,r=e.vote_average,s=e.cast,o=e.reviews,u=e.release_date,d=this.props.match;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("button",{type:"button",onClick:this.handleGoBack,className:x.a.go_back_btn,children:[Object(p.jsx)(S.a,{className:x.a.icon})," Go back"]}),Object(p.jsxs)("div",{className:x.a.movie_card,children:[Object(p.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w300/".concat(t):w,alt:a,width:"300px"}),Object(p.jsxs)("div",{className:x.a.movie_description,children:[Object(p.jsxs)("h2",{children:[a," ",Object(p.jsxs)("span",{children:["(",u,")"]})," "]}),Object(p.jsxs)("p",{children:["User score: ",10*r,"%"]}),Object(p.jsx)("h3",{children:"Overview"}),Object(p.jsx)("p",{children:n}),Object(p.jsx)("h3",{children:"Genres"}),Object(p.jsx)("ul",{children:i.map((function(e){var t=e.id,a=e.name;return Object(p.jsx)("li",{children:a},t)}))})]})]}),Object(p.jsxs)("div",{className:x.a.add_info,children:[Object(p.jsx)("p",{children:"Additional information"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.c,{to:{pathname:"".concat(d.url,"/cast"),state:{from:"/"}},className:x.a.base,activeClassName:x.a.active,children:"Cast"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.c,{to:{pathname:"".concat(d.url,"/reviews"),state:{from:"/"}},className:x.a.base,activeClassName:x.a.active,children:"Reviews"})})]})]}),Object(p.jsx)(h.a,{path:"".concat(d.path,"/cast"),render:function(e){return Object(p.jsx)(b,Object(c.a)(Object(c.a)({},e),{},{cast:s}))}}),Object(p.jsx)(h.a,{path:"".concat(d.path,"/reviews"),render:function(e){return Object(p.jsx)(O,Object(c.a)(Object(c.a)({},e),{},{reviews:o}))}})]})}}]),a}(u.Component);t.default=M},57:function(e,t,a){"use strict";var n=a(60),c=a.n(n);c.a.defaults.baseURL="https://api.themoviedb.org";var i="c4360f2fc66490777a6befee451fce21";t.a={fetchMovies:function(){return c.a.get("/3/trending/movie/day?api_key=".concat(i)).then((function(e){return e.data.results}))},fetchByKeyWord:function(e){var t=e.query;return c.a.get("/3/search/movie?query=".concat(t,"&api_key=").concat(i,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},fetchMovieDetals:function(e){var t=e.movieId;return c.a.get("/3/movie/".concat(t,"?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data}))},fetchGenres:function(){return c.a.get("/3/genre/movie/list?api_key=".concat(i,"&language=en-US")).then((function(e){return e.data.genres}))},fetchReviews:function(e){var t=e.movieId;return c.a.get("/3/movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(e){return e.data.results}))},fetchCast:function(e){var t=e.movieId;return c.a.get("/3/movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data}))}}},94:function(e,t,a){e.exports={cast_name:"CastView_cast_name__2lj7H",cast_list:"CastView_cast_list__JmGmI"}},95:function(e,t,a){e.exports={rew_author:"ReviewsView_rew_author__US2Og"}},96:function(e,t,a){e.exports={base:"MovieDetailsView_base__1tKOp",active:"MovieDetailsView_active__1xJQ3",movie_card:"MovieDetailsView_movie_card__2wQza",movie_description:"MovieDetailsView_movie_description__3ub7M",add_info:"MovieDetailsView_add_info__1ubcj",go_back_btn:"MovieDetailsView_go_back_btn__IYSYE",icon:"MovieDetailsView_icon__2U6Aq"}}}]);
//# sourceMappingURL=moviedetails-page.c9dbd25c.chunk.js.map