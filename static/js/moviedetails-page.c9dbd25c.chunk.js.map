{"version":3,"sources":["images/default.jpg","Components/CastView/CastView.jsx","Components/ReviewsView/ReviewsView.jsx","images/default-poster.png","views/MovieDetailsView/MovieDetailsView.jsx","services/movies-api.js","Components/CastView/CastView.module.css","Components/ReviewsView/ReviewsView.module.css","views/MovieDetailsView/MovieDetailsView.module.css"],"names":["CastView","state","cast","this","props","className","s","cast_list","map","id","name","profile_path","character","src","defaultImage","alt","width","cast_name","Component","ReviewsView","reviews","length","author","content","rew_author","MovieDetailsView","poster_path","original_title","overview","genres","vote_average","isLoading","error","handleGoBack","location","history","push","from","routes","home","movieId","match","params","setState","movieApi","fetchMovieDetals","then","movie","catch","finally","fetchGenres","fetchReviews","fetchCast","release_date","type","onClick","go_back_btn","icon","movie_card","movie_description","add_info","to","pathname","url","base","activeClassName","active","path","render","axios","defaults","baseURL","API_KEY","fetchMovies","get","data","results","fetchByKeyWord","query","res","module","exports"],"mappings":"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","file":"static/js/moviedetails-page.c9dbd25c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/default.2cff1f5d.jpg\";","import { Component } from 'react';\nimport s from './CastView.module.css';\nimport defaultImage from '../../images/default.jpg';\n\nclass CastView extends Component {\n  state = {};\n\n  componentDidMount() {\n    // console.log(this.props);\n  }\n\n  render() {\n    const { cast } = this.props;\n    return (\n      <div>\n        <ul className={s.cast_list}>\n          {cast.map(({ id, name, profile_path, character }) => (\n            <li key={id}>\n              <img\n                src={\n                  !profile_path\n                    ? defaultImage\n                    : `https://image.tmdb.org/t/p/w200/${profile_path}`\n                }\n                alt={name}\n                width=\"200px\"\n              ></img>\n              <p className={s.cast_name}>{name}</p>\n              <p>Character: {character}</p>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default CastView;\n","import { Component } from 'react';\nimport s from './ReviewsView.module.css';\n\nclass ReviewsView extends Component {\n  state = {};\n\n  componentDidMount() {\n    // console.log(this.props);\n  }\n\n  render() {\n    const { reviews } = this.props;\n    return (\n      <div>\n        {reviews.length > 0 ? (\n          <ul>\n            {reviews.map(({ id, author, content }) => (\n              <li key={id}>\n                <p className={s.rew_author}>Author: {author}</p>\n                <p>{content}</p>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>We don't have any reviews for this movie</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ReviewsView;\n","export default __webpack_public_path__ + \"static/media/default-poster.7c02dcee.png\";","import { Component } from 'react';\n// import axios from 'axios';\nimport { Route, NavLink } from 'react-router-dom';\nimport movieApi from '../../services/movies-api';\nimport CastView from '../../Components/CastView';\nimport ReviewsView from '../../Components/ReviewsView';\nimport s from './MovieDetailsView.module.css';\nimport defaultImage from '../../images/default-poster.png';\nimport routes from 'routes';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\n// import CastView from './CastView';\n// import ReviewsView from './ReviewsView';\n\nclass MovieDetailsView extends Component {\n  state = {\n    // movie: null,\n    id: '',\n    poster_path: '',\n    original_title: '',\n    overview: '',\n    genres: [],\n    vote_average: '',\n    cast: [],\n    reviews: [],\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidMount() {\n    // инфо о фильме\n    const { movieId } = this.props.match.params;\n    this.setState({ isLoading: true });\n    movieApi\n      .fetchMovieDetals({ movieId })\n      .then(movie => {\n        this.setState({\n          // распіляем полученный объект в стейт и его значения заменяют значения стейта\n          ...movie,\n        });\n        //   console.log(movie);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n\n    // жанры\n    movieApi\n      .fetchGenres()\n      .then(genres => genres)\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n\n    // рецензии\n    movieApi\n      .fetchReviews({ movieId })\n      .then(reviews => {\n        this.setState({\n          reviews: [...reviews],\n        });\n        // console.log(reviews);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n\n    // актеры\n    movieApi\n      .fetchCast({ movieId })\n      .then(({ cast }) => {\n        this.setState({\n          cast: [...cast],\n        });\n        //   console.log(cast);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  // ф-ция для кнопки go back\n  handleGoBack = () => {\n    const { location, history } = this.props;\n\n    // location.state.from - это откуда мы сюда перешли и куда нужно вернуться при клике на кнопку назад\n\n    // location.state && location.state.from\n    //   ? history.push(location.state.from)\n    //   : history.push(routes.home);\n\n    //оператор optional chaining\n    // усли нет location state from то вернет на routes.home\n    history.push(location?.state?.from || routes.home);\n  };\n\n  render() {\n    const {\n      poster_path,\n      original_title,\n      overview,\n      genres,\n      vote_average,\n      cast,\n      reviews,\n      release_date,\n    } = this.state;\n    // const { movieId } = this.props.match.params;\n\n    const { match } = this.props;\n    // console.log(location.state);\n\n    return (\n      <div>\n        <button\n          type=\"button\"\n          onClick={this.handleGoBack}\n          className={s.go_back_btn}\n        >\n          <ArrowBackIcon className={s.icon} /> Go back\n        </button>\n        <div className={s.movie_card}>\n          <img\n            src={\n              !poster_path\n                ? defaultImage\n                : `https://image.tmdb.org/t/p/w300/${poster_path}`\n            }\n            alt={original_title}\n            width=\"300px\"\n          />\n          <div className={s.movie_description}>\n            <h2>\n              {original_title} <span>({release_date})</span>{' '}\n            </h2>\n            <p>User score: {vote_average * 10}%</p>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            <h3>Genres</h3>\n            <ul>\n              {genres.map(({ id, name }) => (\n                <li key={id}>{name}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className={s.add_info}>\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `${match.url}/cast`,\n                  state: {\n                    from: '/',\n                  },\n                }}\n                className={s.base}\n                activeClassName={s.active}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `${match.url}/reviews`,\n                  state: {\n                    from: '/',\n                  },\n                }}\n                className={s.base}\n                activeClassName={s.active}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <Route\n          path={`${match.path}/cast`}\n          render={props => {\n            return <CastView {...props} cast={cast} />;\n          }}\n        />\n\n        <Route\n          path={`${match.path}/reviews`}\n          render={props => {\n            return <ReviewsView {...props} reviews={reviews} />;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MovieDetailsView;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_KEY = 'c4360f2fc66490777a6befee451fce21';\n\n// тренды\nconst fetchMovies = () => {\n  return axios\n    .get(`/3/trending/movie/day?api_key=${API_KEY}`)\n    .then(({ data }) => data.results);\n};\n\n// по ключевому слову\nconst fetchByKeyWord = ({ query }) => {\n  return axios\n    .get(\n      `/3/search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`,\n    )\n    .then(({ data }) => data.results);\n};\n\n// инфо о фильме\nconst fetchMovieDetals = ({ movieId }) => {\n  return axios\n    .get(`/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    .then(({ data }) => data);\n};\n\n// жанры\nconst fetchGenres = () => {\n  return axios\n    .get(`/3/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n    .then(({ data }) => data.genres);\n};\n\n// обзоры\nconst fetchReviews = ({ movieId }) => {\n  return axios\n    .get(`/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\n    .then(({ data }) => data.results);\n};\n\n// актеры\nconst fetchCast = ({ movieId }) => {\n  return axios\n    .get(`/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\n    .then(res => res.data);\n};\n\nexport default {\n  fetchMovies,\n  fetchByKeyWord,\n  fetchMovieDetals,\n  fetchGenres,\n  fetchReviews,\n  fetchCast,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cast_name\":\"CastView_cast_name__2lj7H\",\"cast_list\":\"CastView_cast_list__JmGmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rew_author\":\"ReviewsView_rew_author__US2Og\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"base\":\"MovieDetailsView_base__1tKOp\",\"active\":\"MovieDetailsView_active__1xJQ3\",\"movie_card\":\"MovieDetailsView_movie_card__2wQza\",\"movie_description\":\"MovieDetailsView_movie_description__3ub7M\",\"add_info\":\"MovieDetailsView_add_info__1ubcj\",\"go_back_btn\":\"MovieDetailsView_go_back_btn__IYSYE\",\"icon\":\"MovieDetailsView_icon__2U6Aq\"};"],"sourceRoot":""}