(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{114:function(e,t,n){"use strict";n.r(t);var r=n(65),a=n(63),c=n(55),i=n(56),o=n(59),u=n(58),s=n(0),f=n(16),h=n.n(f),l=n(64),p=n(57),v=n(93),b=n.n(v),g=n(2),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).state={movies:[],query:"",isLoading:!1,error:null},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSearchMovie=function(t){t.preventDefault();var n=e.state.query,c=e.props,i=c.location,o=c.history;e.setState({isLoading:!0}),p.a.fetchByKeyWord({query:n}).then((function(t){e.setState({movies:Object(a.a)(t)}),o.push(Object(r.a)(Object(r.a)({},i),{},{pathname:i.pathname,search:"?query=".concat(n)}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})})),e.setState({query:""})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.query,n=e.movies,r=e.isLoading,a=e.error;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"MoviesPage"}),Object(g.jsxs)("form",{onSubmit:this.handleSearchMovie,children:[Object(g.jsx)("input",{type:"text",value:t,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange,className:b.a.search_input}),Object(g.jsx)("button",{type:"submit",className:b.a.search_btn,children:"Search"})]}),r&&Object(g.jsx)(h.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),a?Object(g.jsx)("p",{children:"Nothing was found. Please enter more specific value"}):Object(g.jsx)(l.a,{movies:n})]})}}]),n}(s.Component);t.default=d},57:function(e,t,n){"use strict";var r=n(60),a=n.n(r);a.a.defaults.baseURL="https://api.themoviedb.org";var c="c4360f2fc66490777a6befee451fce21";t.a={fetchMovies:function(){return a.a.get("/3/trending/movie/day?api_key=".concat(c)).then((function(e){return e.data.results}))},fetchByKeyWord:function(e){var t=e.query;return a.a.get("/3/search/movie?query=".concat(t,"&api_key=").concat(c,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},fetchMovieDetals:function(e){var t=e.movieId;return a.a.get("/3/movie/".concat(t,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}))},fetchGenres:function(){return a.a.get("/3/genre/movie/list?api_key=".concat(c,"&language=en-US")).then((function(e){return e.data.genres}))},fetchReviews:function(e){var t=e.movieId;return a.a.get("/3/movie/".concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.data.results}))},fetchCast:function(e){var t=e.movieId;return a.a.get("/3/movie/".concat(t,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}))}}},61:function(e,t,n){},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),a=n(3),c=n(61),i=n.n(c),o=n(2),u=Object(a.f)((function(e){var t=e.movies,n=e.location;return Object(o.jsx)("ul",{className:i.a.list,children:t.map((function(e){var t=e.id,a=e.original_title,c=e.original_name;return Object(o.jsx)("li",{children:Object(o.jsxs)(r.b,{to:{pathname:"/movies/".concat(t),state:{from:n}},children:[a||c," "]})},t)}))})}))},65:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return c}))},93:function(e,t,n){e.exports={search_input:"MoviesView_search_input__1pDyg",search_btn:"MoviesView_search_btn__3cDFg"}}}]);
//# sourceMappingURL=movies-page.4763add2.chunk.js.map